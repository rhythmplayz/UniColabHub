{% extends 'base.html' %}

{% block title %}
Edit Thesis
{% endblock %}

{% block content %}
<div class="container"
     style="margin-top: 60px; max-width: 500px; box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px; padding: 30px; border-radius: 15px; position: relative;">
    <button type="button" class="close"
            onclick="window.location.href='{% url 'home' %}'"
            aria-label="Close"
            style="position: absolute; top: 10px; right: 15px; font-size: 1.5rem; background: none; border: none;">
        <span aria-hidden="true">&times;</span>
    </button>


    <h1 style="text-align:center;">Thesis</h1>

    <form method="post" enctype="multipart/form-data" style="overflow-y: scroll; max-height: calc(100vh - 300px);">
        {% csrf_token %}

        <div class="mb-3">
            <label class="form-label" for="title">Title: </label>
            <input type="text" class="form-control" name="title" id="title"
                   placeholder="Title" value="{{ thesis.title }}" required>
        </div>

        <div class="mb-3">
            <label class="form-label" for="description">Description: </label>
            <textarea class="form-control" name="description" id="description" placeholder="Description" rows="5"
                      style="resize: vertical; overflow: hidden;" required>{{ thesis.description }}</textarea>
        </div>

        <div class="mb-3">
            <label class="form-label" for="research_topic">Research Topic: </label>
            <input type="text" class="form-control" name="research_topic" id="research_topic"
                   placeholder="Research Topic" value="{{ thesis.research_topic }}" required>
        </div>

        <div class="mb-3">
            <label class="form-label" for="research_field">Research Field: </label>
            <input type="text" class="form-control" name="research_field" id="research_field"
                   placeholder="Research Field" value="{{ thesis.research_field }}" required>
        </div>

        <div class="mb-3">
            <label class="form-label" for="start_date">Start Date: </label>
            <input type="date" class="form-control" name="start_date" id="start_date"
                   placeholder="Start Date" value="{{ thesis.start_date|date:'Y-m-d' }}" required>
        </div>

        <div class="mb-3">
            <label class="form-label" for="end_date">End Date: </label>
            <input type="date" class="form-control" name="end_date" id="end_date"
                   placeholder="End Date" value="{{ thesis.end_date|default:''|date:'Y-m-d' }}">
        </div>

        <div class="mb-3">
            <label class="form-label" for="status">Status: </label>

            <select name="status" id="status" class="form-select" aria-label="Default select example" required>
                <option value="" {% if not thesis.status %}selected{% endif %}>Select current status</option>
                <option value="upcoming" {% if thesis.status == 'upcoming' %}selected{% endif %}>Upcoming</option>
                <option value="ongoing" {% if thesis.status == 'ongoing' %}selected{% endif %}>Ongoing</option>
                <option value="finished" {% if thesis.status == 'finished' %}selected{% endif %}>Finished</option>
                <option value="cancelled" {% if thesis.status == 'cancelled' %}selected{% endif %}>Cancelled</option>
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label" for="cover_pic">Cover Pic: </label>
            <input type="file" class="form-control" name="cover_pic" id="cover_pic" accept="image/*">
        </div>

        <button type="submit">Upload</button>
    </form>

</div>
{% endblock %}