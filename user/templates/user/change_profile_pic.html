{% extends 'base.html' %}

{% block title %}
Profile Picture Update
{% endblock %}

{% block content %}
<div class="container"
     style="margin-top: 60px; max-width: 60em; box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px; padding: 30px; border-radius: 15px;">

    <h1 style="text-align:center;">Update Profile Picture</h1>

    <div class="row vh-80 align-items-center justify-content-center">
        {% if profile.profile_pic %}
            <img src="{{ profile.profile_pic.url }}" alt="Profile Picture" width="400" class="rounded mb-2 img-thumbnail">
        {% else %}
            <img src="https://api.dicebear.com/9.x/adventurer-neutral/svg?seed=Oliver" alt="No Profile Picture" width="400" class="rounded mb-2 img-thumbnail">
        {% endif %}
    </div>


    <form method="POST" enctype="multipart/form-data" action="{% url 'user:update_profile_pic' %}" style="margin-top: 20px;">
        {% csrf_token %}
        <div class="mb-3">
            <label class="form-label" for="profile_picture">Profile Picture: </label>
            <input type="file" class="form-control" name="profile_picture" id="profile_picture" accept="image/*" required>
        </div>
        <button type="submit">Save Changes</button>
        <!--    login error message-->
        {% if messages %}

        {% for message in messages %}
        <br>
        <br>
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            {{message}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}

        {% endif %}

    </form>

</div>

{% endblock %}
